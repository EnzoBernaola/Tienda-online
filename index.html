<!DOCTYPE html>
<html lang="es" data-theme="claro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda Online</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="{{ url_for('static', filename='js/theme.js') }}" defer></script>
</head>
<body>
    <header>
        <h1>Tienda Online</h1>
        <select id="theme-selector">
            <option value="claro">Claro</option>
            <option value="oscuro">Oscuro</option>
            <option value="moderno">Moderno</option>
        </select>
    </header>
    <main>
        <form action="/add" method="POST" class="add-form">
            <input type="text" name="name" placeholder="Nombre del producto" required>
            <input type="number" name="price" placeholder="Precio" step="0.01" required>
            <input type="text" name="image" placeholder="URL de imagen (opcional)">
            <button type="submit">Agregar producto</button>
        </form>
        <div class="product-grid">
            {% for product in products %}
            <div class="card">
                {% if product.image %}
                    <img src="{{ product.image }}" alt="{{ product.name }}">
                {% endif %}
                <h2>{{ product.name }}</h2>
                <p>${{ "%.2f"|format(product.price) }}</p>
                <div class="actions">
                    <a href="{{ url_for('edit_product', id=product.id) }}">Editar</a>
                    <form action="{{ url_for('delete_product', id=product.id) }}" method="POST">
                        <button type="submit">Borrar</button>
                    </form>
                </div>
            </div>
            {% endfor %}
        </div>
    </main>
</body>
</html>